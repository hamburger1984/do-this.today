# Agent Instructions for Task Dice Project

This file contains instructions for AI agents working on this project. Follow these guidelines to maintain consistency and quality.

## üéØ Core Principles

### Code Changes
- **Minimize commit summaries** - Keep commit messages concise but descriptive
- **Test before committing** - Ensure changes work across major browsers
- **Maintain mobile-first design** - Always consider mobile experience first
- **Preserve data integrity** - Never break existing localStorage data structures

### Documentation Synchronization
- **Update README after UI changes** - If user-facing features change, update the main README
- **Update technical docs after architecture changes** - Keep `docs/technical-details.md` current with implementation
- **Update development guide after workflow changes** - Maintain `docs/development.md` accuracy
- **Synchronize all three documents** - Ensure no contradictions between README, technical docs, and dev guide

### Commit Workflow
- **Always create a commit after completing changes** - Don't leave work uncommitted
- **Use conventional commit format** when possible - `type: brief description`
- **Include affected files in commit description** when significant
- **Test functionality before committing** - Verify the app still works

## üìã Change Checklist

Before committing any change, verify:

### For Code Changes
- [ ] App loads and functions correctly in browser
- [ ] Mobile layout remains responsive
- [ ] No console errors or warnings
- [ ] localStorage functionality preserved
- [ ] PWA features still work (if applicable)

### For UI/UX Changes
- [ ] Update main README if user workflow affected
- [ ] Update screenshots/descriptions if visual changes made
- [ ] Verify accessibility (keyboard navigation, screen readers)
- [ ] Test on mobile device or browser dev tools

### For Technical Changes
- [ ] Update `docs/technical-details.md` if architecture changed
- [ ] Update data schemas if localStorage structure modified
- [ ] Update `docs/development.md` if development workflow affected
- [ ] Verify debug tools still function

### For Documentation Changes
- [ ] Ensure consistency across README and docs folder
- [ ] Verify all links work correctly
- [ ] Check that technical details match actual implementation
- [ ] Validate code examples are current

## üö´ What NOT to Do

### Code
- Don't add external dependencies without strong justification
- Don't break existing data migration paths
- Don't remove debug/recovery tools
- Don't change core localStorage keys without migration strategy

### Documentation
- Don't create outdated information - always sync with current state
- Don't duplicate information across files unnecessarily
- Don't use technical jargon in main README
- Don't remove troubleshooting information

### Commits
- Don't commit broken functionality
- Don't make commits without testing
- Don't combine unrelated changes in single commit
- Don't use vague commit messages like "fix stuff"

## üé® Style Guidelines

### Code Style
- Use ES6+ JavaScript features
- Follow existing naming conventions
- Maintain consistent indentation (2 spaces)
- Keep functions focused and small
- Add comments for complex logic

### CSS Style
- Use CSS custom properties for colors
- Follow mobile-first responsive design
- Maintain consistent spacing units
- Use semantic class names

### Documentation Style
- Use clear, actionable language
- Include code examples where helpful
- Maintain consistent emoji usage for sections
- Keep line lengths reasonable for readability

## üîÑ Common Tasks

### Adding New Features
1. Implement feature in `script.js`
2. Add necessary UI elements to `index.html`
3. Style with mobile-first CSS in `styles.css`
4. Update main README if user-facing
5. Update technical docs if architecture changes
6. Test thoroughly
7. Commit with descriptive message

### Fixing Bugs
1. Identify root cause
2. Implement fix
3. Test fix doesn't break other functionality
4. Update documentation if behavior changes
5. Commit with bug description and fix

### Documentation Updates
1. Identify what changed in the app
2. Update README for user-facing changes
3. Update technical docs for implementation changes
4. Update development guide for workflow changes
5. Ensure consistency across all docs
6. Commit documentation updates

## üìä Quality Standards

### Performance
- Keep app responsive on mobile devices
- Minimize DOM manipulation
- Use efficient localStorage operations
- Maintain fast startup time

### Accessibility
- Ensure keyboard navigation works
- Maintain proper ARIA labels
- Use semantic HTML elements
- Test with screen readers when possible

### Privacy & Security
- Never add tracking or analytics
- Keep all data local to device
- Validate user input appropriately
- Maintain offline-first functionality

## üîß Debug Resources

### Console Commands
```javascript
app.debugData()           // Inspect current data
app.validateDataIntegrity() // Check for corruption
app.cleanupCorruptedData() // Fix issues
```

### Debug Tools
- Use `debug-test.html` for data issues
- Browser dev tools for PWA testing
- Mobile device testing for touch interactions

## üìù Example Commit Messages

Good:
- `Add zero cooldown option for repeatable tasks`
- `Fix task list collapse state persistence`
- `Update README installation instructions for iOS`
- `Improve mobile touch targets in task actions`

Bad:
- `fix bug`
- `update stuff`
- `changes`
- `wip`

## üéØ Success Metrics

A good change should:
- Improve user experience without breaking existing workflows
- Maintain or improve app performance
- Keep documentation synchronized with implementation
- Follow established code and design patterns
- Be thoroughly tested before commit

Remember: This is a privacy-focused, offline-first app. Maintain these core values in all changes.
